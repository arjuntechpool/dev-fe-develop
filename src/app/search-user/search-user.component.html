<app-common-modals
  [title]="'UserList'"
  [buttons]="modalButtons"
  class="admin-modal admin-layout"
>
  <!-- Visual indication of selected user -->
  <div *ngIf="selectedUser" class="selected-user-info alert alert-info mb-2">
    <p class="mb-0">Selected User: <strong>{{selectedUser.user_name}}</strong> ({{selectedUser.designation}})</p>
  </div>

  <div class="search-flex-outer">
    <div class="left-side">
      <div class="search-wrap">
        <div class="input-wrap">
          <input
            type="text"
            name="search"
            id="search01"
            placeholder="Search by EmpCode"
            class="form-control md"
            (keyup)="applyFilter($event)"
          />
          <button class="btn btn-primary-80 sm search-btn" (click)="applyFilter($event)">Go</button>
        </div>
      </div>
    </div>
    <div class="right-side">
      <div class="filter-btn">
        <button
          class="btn btn-none filter-btn-search sm"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#advsearch"
          aria-expanded="false"
          aria-controls="advsearch"
        >
          <i class="icon icon-filter-search xl"></i>
          Show Advance Search
        </button>
      </div>
    </div>
  </div>

  <!-- adv search collapse -->
  <div class="collapse advanced-search" id="advsearch">
    <app-cards [cardClass]="'card widget-card'">
      <div card-body>
        <div class="filter-wrap">
          <div class="row gy-3">
            <div class="col-md-4">
              <div class="form-group">
                <label for="department" class="form-label">Department</label>
                <select
                  name="department"
                  id="department"
                  class="form-select md"
                  [(ngModel)]="searchCriteria.department">
                  <option value="">Choose Department</option>
                  <option value="designation1">Dept1</option>
                  <option value="designation2">Dept2</option>
                  <option value="designation3">Dept3</option>
                  <option value="designation4">Dept4</option>
                </select>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <label for="section" class="form-label">Choose Section</label>
                <select
                  name="section"
                  id="section"
                  class="form-select md"
                  [(ngModel)]="searchCriteria.section">
                  <option value="">Choose Section</option>
                  <option value="section1">Section 1</option>
                  <option value="section2">Section 2</option>
                  <option value="section3">Section 3</option>
                </select>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <label for="seat" class="form-label">Seat</label>
                <select
                  name="seat"
                  id="seat"
                  class="form-select md"
                  [(ngModel)]="searchCriteria.seat">
                  <option value="">Choose Seat</option>
                  <option value="seat01">Seat 01</option>
                  <option value="seat02">Seat 02</option>
                  <option value="seat03">Seat 03</option>
                  <option value="seat04">Seat 04</option>
                </select>
              </div>
            </div>
          </div>
          <div class="row gy-3">
            <div class="col-md-4">
              <div class="form-group">
                <label for="empName" class="form-label">Employee Name</label>
                <input
                  type="text"
                  name="empName"
                  id="empName"
                  placeholder="Type emp.Name"
                  class="form-control md"
                  [(ngModel)]="searchCriteria.empName"
                />
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <label for="mobile" class="form-label">Mobile No</label>
                <input
                  type="text"
                  name="mobile"
                  id="mobile"
                  placeholder="Type Mobile No."
                  class="form-control md"
                  [(ngModel)]="searchCriteria.mobile"
                />
              </div>
            </div>
            <div class="col-md-3">
              <div class="form-group">
                <label for="email" class="form-label">Email</label>
                <input
                  type="text"
                  name="email"
                  id="email"
                  placeholder="Type email"
                  class="form-control md"
                  [(ngModel)]="searchCriteria.email"
                />
              </div>
            </div>
            <div class="col-md-1">
              <label for="search" class="form-label">&nbsp;</label>
              <button class="btn btn-primary-80 sm search-btn" (click)="advancedSearch()">Search</button>
            </div>
          </div>
        </div>
      </div>
    </app-cards>
  </div>

  <!-- content full wrap inside modal body -->
  <div class="body-outer-wrap">
    <!-- applicant list wrap -->
    <div class="applicant-card-list-wrap list-wrap">
      <div class="table-wrap">
        <table>
          <thead>
            <tr>
              <th>Name</th>
              <th>Designation</th>
              <th>Seat</th>
              <th>Email ID</th>
              <th>Phone</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="let item of user_list; let i = index"
              (click)="rowActive(i, item)"
              [class.active]="i === activeRowIndex"
            >
              <td>
                <div class="profile-wrap">
                  <img
                    src="../../../../../../assets/public/image/png/dummy-avatar.png"
                    alt=""
                    class="profile-image"
                  />
                  <h6 class="name">{{ item.user_name }}</h6>
                </div>
              </td>
              <td>{{ item.designation }}</td>
              <td>{{ item.seat }}</td>
              <td>{{ item.email }}</td>
              <td>{{ item.mobile }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</app-common-modals>
